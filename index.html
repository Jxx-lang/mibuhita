<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Para ti, mi amor ‚ù§Ô∏è</title>
    <style>
        /* ==================== VARIABLES Y BASE ==================== */
        :root {
            --primary-color: #d81b60;
            --bg-gradient-1: #ffdde1;
            --bg-gradient-2: #ee9ca7;
            --card-bg: rgba(255, 255, 255, 0.95);
            --text-main: #4a154b;
            --text-muted: #7a3b69;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; -webkit-tap-highlight-color: transparent; }

        body {
            background: linear-gradient(135deg, var(--bg-gradient-1) 0%, var(--bg-gradient-2) 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            color: var(--text-main);
            transition: background 1.5s ease;
        }

        body.night-mode { background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%); }
        body.night-mode .app-container { background: rgba(255, 255, 255, 0.85); box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5); }

        /* Estrellas para el Modo Noche */
        #stars-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 0; opacity: 0; transition: opacity 1.5s ease;
        }
        body.night-mode #stars-container { opacity: 1; }
        .star { position: absolute; background: white; border-radius: 50%; animation: twinkle infinite alternate; }
        @keyframes twinkle { from { opacity: 0.2; transform: scale(0.8); } to { opacity: 1; transform: scale(1.2); } }

        /* ==================== SOBRE 3D DE APERTURA ==================== */
        #intro-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #ffe4e1; display: flex; justify-content: center; align-items: center;
            z-index: 1000; transition: opacity 1s ease; perspective: 1000px;
        }
        .envelope-wrapper { position: relative; cursor: pointer; text-align: center; }
        .envelope {
            width: 300px; height: 200px; background: #ff9a9e; position: relative;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2); transition: transform 0.5s;
        }
        .envelope:hover { transform: scale(1.05); }
        .flap {
            position: absolute; top: 0; left: 0; width: 0; height: 0;
            border-left: 150px solid transparent; border-right: 150px solid transparent; border-top: 100px solid #ff758c;
            transform-origin: top; transition: transform 0.6s, z-index 0s 0.6s; z-index: 10;
        }
        .envelope-wrapper.open .flap { transform: rotateX(180deg); z-index: 1; }
        .envelope-text {
            position: absolute; bottom: 30px; width: 100%; color: white;
            font-size: 18px; font-weight: bold; font-style: italic; z-index: 11;
        }
        .letter-preview {
            position: absolute; top: 20px; left: 20px; width: 260px; height: 160px;
            background: white; z-index: 5; transition: transform 0.8s 0.4s ease;
            display: flex; justify-content: center; align-items: center; font-size: 20px; color: var(--primary-color);
            font-weight: bold;
        }
        .envelope-wrapper.open .letter-preview { transform: translateY(-120px); }

        /* ==================== CONTENEDOR TIPO APP ==================== */
        .app-container {
            background: var(--card-bg); backdrop-filter: blur(10px);
            border-radius: 30px; width: 100%; max-width: 450px; height: 90vh;
            max-height: 800px; position: relative; z-index: 10;
            display: none; opacity: 0; transform: translateY(20px);
            transition: opacity 1s ease, transform 1s ease;
            overflow: hidden; 
            box-shadow: 0 15px 35px rgba(216, 27, 96, 0.15);
        }
        .app-container.visible { display: flex; flex-direction: column; opacity: 1; transform: translateY(0); }

        /* Cabecera */
        .app-header { padding: 25px 20px 15px; text-align: center; border-bottom: 1px solid rgba(0,0,0,0.05); }
        .app-header h1 { color: var(--primary-color); font-size: 24px; margin-bottom: 5px; }
        .app-header p { font-size: 13px; color: var(--text-muted); font-style: italic; }

        /* Vistas (Scrollable) */
        .views-container { flex: 1; overflow-y: auto; padding: 20px; padding-bottom: 80px; position: relative; }
        .views-container::-webkit-scrollbar { width: 0px; }
        .tab-section { display: none; animation: fadeInView 0.4s ease forwards; }
        .tab-section.active { display: block; }
        @keyframes fadeInView { from { opacity: 0; transform: translateX(10px); } to { opacity: 1; transform: translateX(0); } }

        /* ==================== VISTA 1: REFUGIO ==================== */
        .btn-rain {
            background: linear-gradient(45deg, #ff9a9e, #fecfef); color: var(--text-main);
            border: none; width: 100%; padding: 15px; border-radius: 20px; font-size: 15px; font-weight: bold;
            cursor: pointer; margin-bottom: 25px; box-shadow: 0 5px 15px rgba(255, 154, 158, 0.4);
            transition: transform 0.3s;
        }
        .btn-rain:active { transform: scale(0.95); }

        .buttons-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 25px; }
        .btn-emotion {
            background: white; border: 2px solid #ffb6c1; color: var(--text-main);
            padding: 12px 10px; border-radius: 20px; font-size: 13px; font-weight: 600;
            cursor: pointer; transition: 0.3s;
        }
        .btn-emotion:active { background: var(--primary-color); color: white; border-color: var(--primary-color); transform: scale(0.95); }

        #message-box {
            background: white; border-left: 5px solid var(--primary-color);
            padding: 20px; border-radius: 15px; font-size: 15px; line-height: 1.6;
            color: var(--primary-color); font-weight: 500; min-height: 80px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05); display: none; margin-bottom: 20px;
        }
        #message-box.show { display: block; }
        .cursor { display: inline-block; width: 3px; background-color: var(--primary-color); margin-left: 2px; animation: blink 0.8s infinite; }

        /* ==================== VISTA 2: HISTORIA (TIMELINE) ==================== */
        .timeline { position: relative; padding-left: 30px; margin-top: 10px; }
        .timeline::before {
            content: ''; position: absolute; left: 7px; top: 0; height: 100%;
            width: 3px; background: #ffb6c1; border-radius: 3px;
        }
        .timeline-item { position: relative; margin-bottom: 30px; }
        .timeline-dot {
            position: absolute; left: -30px; top: 5px; width: 17px; height: 17px;
            background: var(--primary-color); border: 3px solid white;
            border-radius: 50%; box-shadow: 0 0 0 2px #ffb6c1;
        }
        .timeline-date { font-size: 12px; color: var(--primary-color); font-weight: bold; margin-bottom: 5px; }
        .timeline-content {
            background: white; padding: 15px; border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05); border: 1px solid #ffdde1;
        }
        .timeline-content h3 { font-size: 15px; margin-bottom: 5px; color: var(--text-main); }
        .timeline-content p { font-size: 13px; color: #666; line-height: 1.4; }

        /* ==================== VISTA 3: CUPONES ==================== */
        .coupons-container { display: flex; flex-direction: column; gap: 15px; }
        .coupon {
            background: #fff0f3; border: 2px dashed #ff9a9e; border-radius: 15px;
            padding: 20px; text-align: center; position: relative; overflow: hidden;
            transition: 0.3s; cursor: pointer;
        }
        .coupon h3 { color: var(--primary-color); font-size: 18px; margin-bottom: 5px; }
        .coupon p { font-size: 13px; color: var(--text-muted); }
        .coupon .scissors { position: absolute; top: -10px; left: 10px; font-size: 20px; color: #ff9a9e; }
        .coupon.redeemed { opacity: 0.6; filter: grayscale(0.5); pointer-events: none; border-color: #ccc; }
        .coupon.redeemed::after {
            content: 'CANJEADO'; position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%) rotate(-15deg);
            font-size: 24px; font-weight: bold; color: rgba(216, 27, 96, 0.4);
            border: 3px solid rgba(216, 27, 96, 0.4); padding: 5px 15px; border-radius: 10px;
        }

        /* ==================== BARRA DE NAVEGACI√ìN ==================== */
        .bottom-nav {
            position: absolute; bottom: 0; left: 0; width: 100%;
            background: white; display: flex; justify-content: space-around;
            padding: 15px 10px; border-top: 1px solid rgba(0,0,0,0.05);
            border-radius: 0 0 30px 30px; box-shadow: 0 -5px 20px rgba(0,0,0,0.03);
            z-index: 20;
        }
        .nav-item {
            display: flex; flex-direction: column; align-items: center; gap: 5px;
            color: #ccc; font-size: 12px; font-weight: 600; cursor: pointer; transition: 0.3s;
        }
        .nav-item.active { color: var(--primary-color); transform: translateY(-3px); }
        .nav-icon { font-size: 22px; filter: grayscale(100%) opacity(0.5); transition: 0.3s; }
        .nav-item.active .nav-icon { filter: grayscale(0%) opacity(1); }

        /* Lluvia de sobres */
        #rain-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 99; }
        .falling-envelope { position: absolute; top: -50px; font-size: 30px; cursor: pointer; pointer-events: auto; animation: fall linear forwards; transition: transform 0.2s; }
        .falling-envelope:hover { transform: scale(1.3); }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

    </style>
</head>
<body>

    <div id="stars-container"></div>
    <div id="rain-container"></div>

    <div id="intro-screen">
        <div class="envelope-wrapper" onclick="openEnvelope()" id="envelope">
            <div class="envelope">
                <div class="flap"></div>
                <div class="letter-preview">Toca para abrir ‚ù§Ô∏è</div>
                <div class="envelope-text">Para el amor de mi vida Buhita</div>
            </div>
        </div>
    </div>

    <div class="app-container" id="main-content">
        
        <div class="app-header">
            <h1>Mi lugar seguro ‚ù§Ô∏è</h1>
            <p>BUENOS DIAAAAS PRINCESAAAAAAAAAAAAAAA</p>
        </div>

        <div class="views-container">
            
            <div id="view-refugio" class="tab-section active">
                <button class="btn-rain" onclick="startRain()">üíå Toca aqu√≠ para ver magia</button>
                
                <div class="buttons-grid">
                    <button class="btn-emotion" onclick="showMessage('triste')">üòî Si est√°s triste</button>
                    <button class="btn-emotion" onclick="showMessage('enojada')">üò° Si est√°s enojada</button>
                    <button class="btn-emotion" onclick="showMessage('cansada')">üò¥ Si est√°s cansada</button>
                    <button class="btn-emotion" onclick="showMessage('amor')">üíï Si quieres amor</button>
                    <button class="btn-emotion" onclick="showMessage('noche')">üåô Antes de dormir</button>
                    <button class="btn-emotion" onclick="showMessage('inseguridades')">üå™Ô∏è Si te sientes insegura</button>
                </div>
                
                <div id="message-box"></div>
            </div>

            <div id="view-historia" class="tab-section">
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-date">El comienzo de todo</div>
                        <div class="timeline-content">
                            <h3>El d√≠a que nos conocimos</h3>
                            <p>El d√≠a que nos conocimos no fue una simple coincidencia fue como si la vida ya estuviera escribiendo nuestra historia mucho antes de que nosotros nos di√©ramos cuenta. Porque no fue solo una vez coincidimos varias veces, en distintos momentos, como si el destino estuviera insistiendo en cruzarnos, en ponernos en el mismo camino una y otra vez hasta que finalmente algo ten√≠a que pasar entre nosotros y ahora lo pienso y siento que no era casualidad, porque entre tantas personas, entre tantos lugares, entre tantas historias t√∫ y yo nos seguimos encontrando, como si el universo dijera ‚Äòes ella‚Äô, y no dejara de ponerte frente a m√≠ hasta que yo lo entendiera, en esos momentos tal vez no sab√≠a lo que ven√≠a, no imaginaba que esa persona con la que coincid√≠a iba a convertirse en alguien tan importante para m√≠ en alguien que iba a cambiar mi forma de ver el amor, de sentir, de querer. Pero algo dentro de m√≠ ya sent√≠a que hab√≠a algo especial, algo distinto aunque no supiera explicarlo.
Y cada vez que nos volv√≠amos a ver, era como si algo se encendiera un poco m√°s como si poco a poco nos fu√©ramos acercando sin darnos cuenta, como si todo estuviera avanzando en silencio, prepar√°ndonos para lo que hoy somos, hasta que lleg√≥ el momento en el que ya no fue solo coincidir sino quedarnos y desde ese momento todo cambi√≥, porque contigo no se sinti√≥ como con nadie m√°s, contigo todo se volvi√≥ m√°s real, m√°s fuerte, m√°s bonito como si por fin hubiera encontrado lo que sin saberlo siempre estuve buscando.
Y ahora entiendo todo entiendo por qu√© coincidimos tantas veces, por qu√© la vida insisti√≥ tanto porque no eras una persona m√°s, eras t√∫ la persona que iba a ense√±arme lo que realmente es amar, lo que es sentirse amado, lo que es tener paz, lo que es tener un hogar en alguien. Porque de todas las historias posibles la m√≠a ten√≠a que cruzarse con la tuya y no fue casualidad fue destino, el mejor destino que me pudo tocar</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-date">Cuando te pedi ser mi flaquillesica</div>
                        <div class="timeline-content">
                            <h3>TEAMO</h3>
                            <p>Literal me acuerdo que estaba todo nervioso, no sabia ni que hacer porque como te dije queria hacerlo especial, y queria hacerlo mejor cuanto te dije para ser pareja no sabia como reaccionarias pero la respuesta me dejo impactado con las flores fue uno de los mejores dias de mi vida porque me aceptaste y ahi fue donde por fin ya pude tener a la mujer que siempre eh querido TU, gracias mi vida</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-date">Presente y Futuro</div>
                        <div class="timeline-content">
                            <h3>Donde sea, pero contigo</h3>
                            <p>No me importa el lugar, ni el momento, ni las circunstancias si estoy contigo, todo se vuelve especial. Puede ser un paseo simple, una conversaci√≥n cualquiera o incluso el silencio pero contigo todo tiene sentido. Porque no es el lugar lo que importa, eres t√∫. Contigo aprend√≠ que la felicidad no est√° en lo que hacemos, sino en con qui√©n lo compartimos. Y si me dieran a elegir mil veces, siempre te elegir√≠a a ti, en cualquier lugar, en cualquier vida porque donde sea, pero contigo, siempre ser√° mi lugar favorito.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="view-cupones" class="tab-section">
                <div class="coupons-container">
                    <p style="text-align: center; font-size: 13px; color: #666; margin-bottom: 10px;">Toca un cup√≥n para canjearlo en la vida real üéüÔ∏è</p>
                    
                    <div class="coupon" onclick="redeemCoupon(this)">
                        <div class="scissors">‚úÇÔ∏è</div>
                        <h3>Masaje Relajante</h3>
                        <p>V√°lido por un masaje en la espalda y mimos hasta que te quedes dormida.</p>
                    </div>

                    <div class="coupon" onclick="redeemCoupon(this)">
                        <div class="scissors">‚úÇÔ∏è</div>
                        <h3>Paseo Nocturno</h3>
                        <p>V√°lido por un paseo de noche por todo Nasca escuchando nuestra m√∫sica favorita.</p>
                    </div>

                    <div class="coupon" onclick="redeemCoupon(this)">
                        <div class="scissors">‚úÇÔ∏è</div>
                        <h3>Noche de Pel√≠culas</h3>
                        <p>V√°lido por elegir pel√≠culas, snacks y pasar una noche juntos sin preocupaciones.</p>
                    </div>

                    <div class="coupon" onclick="redeemCoupon(this)">
                        <div class="scissors">‚úÇÔ∏è</div>
                        <h3>D√≠a Sin Preocupaciones</h3>
                        <p>V√°lido por un d√≠a donde yo me encargo de todo para que t√∫ solo disfrutes y descanses.</p>
                    </div>

                    <div class="coupon" onclick="redeemCoupon(this)">
                        <div class="scissors">‚úÇÔ∏è</div>
                        <h3>Abrazo Infinito</h3>
                        <p>V√°lido por un abrazo largo que te haga sentir segura y en paz.</p>
                    </div>

                    <div class="coupon" onclick="redeemCoupon(this)">
                        <div class="scissors">‚úÇÔ∏è</div>
                        <h3>Noche de Conversaci√≥n</h3>
                        <p>V√°lido por una noche donde solo hablamos, nos escuchamos y conectamos.</p>
                    </div>

                    <div class="coupon" onclick="redeemCoupon(this)">
                        <div class="scissors">‚úÇÔ∏è</div>
                        <h3>Cumplo Tu Antojo</h3>
                        <p>V√°lido para ir por eso que tanto se te antoja, sin excusas.</p>
                    </div>

                    <div class="coupon" onclick="redeemCoupon(this)">
                        <div class="scissors">‚úÇÔ∏è</div>
                        <h3>Escape Improvisado</h3>
                        <p>V√°lido por una salida improvisada a donde t√∫ quieras ir.</p>
                    </div>

                    <div class="coupon" onclick="redeemCoupon(this)">
                        <div class="scissors">‚úÇÔ∏è</div>
                        <h3>Olvidemos la Pelea</h3>
                        <p>V√°lido para dejar atr√°s cualquier discusi√≥n y volver a empezar con amor.</p>
                    </div>

                    <div class="coupon" onclick="redeemCoupon(this)">
                        <div class="scissors">‚úÇÔ∏è</div>
                        <h3>Perd√≥n con Amor</h3>
                        <p>V√°lido por una disculpa sincera acompa√±ada de abrazos y besitos.</p>
                    </div>

                    <div class="coupon" onclick="redeemCoupon(this)">
                        <div class="scissors">‚úÇÔ∏è</div>
                        <h3>Reiniciar Nuestro Amor</h3>
                        <p>V√°lido para comenzar de nuevo con m√°s amor y menos orgullo.</p>
                    </div>

                    <div class="coupon" onclick="redeemCoupon(this)">
                        <div class="scissors">‚úÇÔ∏è</div>
                        <h3>Cena Especial</h3>
                        <p>Yo invito la comida que t√∫ quieras hoy (¬°sin quejas ni peros!).</p>
                    </div>
                    
                    <div class="coupon" onclick="redeemCoupon(this)">
                        <div class="scissors">‚úÇÔ∏è</div>
                        <h3>Abrazos Infinitos</h3>
                        <p>V√°lido para usar en medio de una pelea o un mal d√≠a para detener el tiempo.</p>
                    </div>
                </div>
            </div>

        </div>

        <div class="bottom-nav">
            <div class="nav-item active" onclick="switchTab('refugio', this)">
                <span class="nav-icon">üè†</span>
                <span>Refugio</span>
            </div>
            <div class="nav-item" onclick="switchTab('historia', this)">
                <span class="nav-icon">üìñ</span>
                <span>Historia</span>
            </div>
            <div class="nav-item" onclick="switchTab('cupones', this)">
                <span class="nav-icon">üéüÔ∏è</span>
                <span>Cupones</span>
            </div>
        </div>

    </div>

    <script>
        /* ==================== APERTURA ==================== */
        function openEnvelope() {
            document.getElementById('envelope').classList.add('open');
            setTimeout(() => {
                document.getElementById('intro-screen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('intro-screen').style.display = 'none';
                    document.getElementById('main-content').classList.add('visible');
                    generateStars();
                }, 1000);
            }, 1200);
        }

        /* ==================== NAVEGACI√ìN ENTRE TABS ==================== */
        function switchTab(tabId, navElement) {
            document.querySelectorAll('.tab-section').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
            
            document.getElementById('view-' + tabId).classList.add('active');
            navElement.classList.add('active');

            if(tabId !== 'refugio') { document.body.classList.remove('night-mode'); }
        }

        /* ==================== BASE DE DATOS DE MENSAJES (AMPLIADA) ==================== */
        const messages = {
            triste: [
                "Amor, si est√°s triste ven, aqu√≠ estoy para ti ‚ù§Ô∏è",
"No est√°s sola, incluso en tus momentos m√°s dif√≠ciles ",
"Todo va a estar bien, te lo prometo üíï",
"Si est√°s mal, quiero ser tu lugar seguro ",
"Puedes llorar, est√° bien yo estoy contigo üíñ",
"No tienes que ser fuerte todo el tiempo ‚ù§Ô∏è",
"Tu tristeza tambi√©n merece ser escuchada ",
"Ven, te abrazo aunque sea a la distancia üíï",
"Estoy aqu√≠ para ti, sin importar qu√© pase ",
"No tienes que pasar esto sola üíñ",
"Respira poco a poco todo se va a acomodar ‚ù§Ô∏è",
"Si te sientes mal, d√©jame acompa√±arte ",
"Eres m√°s fuerte de lo que crees üíï",
"Aunque hoy no sea un buen d√≠a, ma√±ana puede ser mejor ",
"Estoy contigo incluso cuando no sabes qu√© decir üíñ",
"Tu tristeza no define lo incre√≠ble que eres ‚ù§Ô∏è",
"No pasa nada si hoy no est√°s bien ",
"Te entiendo, y aqu√≠ estoy para ti üíï",
"No quiero que cargues con todo sola ",
"D√©jame ser tu apoyo en este momento üíñ",
"Si necesitas llorar, hazlo yo te cuido ‚ù§Ô∏è",
"Todo lo que sientes es v√°lido ",
"Eres muy valiosa, incluso cuando te sientes mal üíï",
"Estoy aqu√≠ para abrazarte con palabras ",
"No tienes que fingir estar bien üíñ",
"Si est√°s triste, qu√©date aqu√≠ conmigo ‚ù§Ô∏è",
"Tu coraz√≥n merece descanso ",
"Todo va a pasar, incluso este momento üíï",
"Eres fuerte, incluso cuando lloras ",
"Te quiero incluso en tus d√≠as m√°s dif√≠ciles üíñ",
"No est√°s sola en esto ‚ù§Ô∏è",
"Si el mundo pesa, ap√≥yate en m√≠ ",
"Estoy contigo, siempre üíï",
"No dejes que este momento te haga olvidar lo incre√≠ble que eres ",
"Eres importante, incluso cuando est√°s triste üíñ",
"Aqu√≠ tienes un lugar donde puedes sentirte segura ‚ù§Ô∏è",
"Si est√°s mal, yo me quedo contigo ",
"No tienes que poder con todo üíï",
"Todo mejora, aunque ahora no lo parezca ",
"Te abrazo con todo mi amor üíñ"

            ],
            enojada: [
                "Respira mi amor, todo va a calmarse‚Ä¶ yo estoy contigo ‚ù§Ô∏è",
"No importa lo que pase, yo sigo aqu√≠ para ti ",
"Tu enojo es v√°lido, pero no est√°s sola üíï",
"Ven, respira un poco‚Ä¶ todo va a estar bien ",
"Estoy aqu√≠ para escucharte, sin juzgarte üíñ",
"No tienes que cargar con todo, puedes apoyarte en m√≠ ‚ù§Ô∏è",
"Si algo te duele, quiero entenderlo contigo ",
"Respira profundo, yo te abrazo en silencio üíï",
"No dejes que el enojo te quite la paz que mereces ",
"Eres m√°s fuerte que cualquier momento dif√≠cil üíñ",
"Estoy contigo incluso en tus d√≠as m√°s intensos ‚ù§Ô∏è",
"No quiero que sufras, quiero cuidarte ",
"Tu tranquilidad es importante, no la pierdas üíï",
"Aqu√≠ estoy, para ti, siempre ",
"No tienes que enfrentarlo todo sola üíñ",
"Respira mi amor, todo pasa ‚ù§Ô∏è",
"Tu paz es m√°s importante que cualquier problema ",
"Perm√≠tete calmarte, yo te acompa√±o üíï",
"Eres demasiado valiosa para quedarte con ese enojo ",
"Estoy aqu√≠ para darte calma, no m√°s estr√©s üíñ",
"Si necesitas espacio, lo entiendo‚Ä¶ pero sigo aqu√≠ ‚ù§Ô∏è",
"No quiero discutir, quiero que est√©s bien ",
"Todo se puede resolver con calma üíï",
"Eres fuerte, pero tambi√©n mereces paz ",
"Respira‚Ä¶ yo estoy contigo üíñ",
"No tienes que responder ahora, puedes tomarte tu tiempo ‚ù§Ô∏è",
"Lo importante es que est√©s tranquila ",
"Tu bienestar es lo que m√°s me importa üíï",
"No dejes que este momento defina tu d√≠a ",
"Eres paz, incluso cuando est√°s enojada üíñ",
"Aqu√≠ estoy para ti, sin importar nada ‚ù§Ô∏è",
"Respira, todo se va a acomodar ",
"Conf√≠a en que todo va a mejorar üíï",
"No est√°s sola en esto ",
"Estoy contigo, siempre üíñ",
"Tu tranquilidad vale m√°s que cualquier discusi√≥n ‚ù§Ô∏è",
"Todo pasa, incluso este momento ",
"Te mereces calma, no estr√©s üíï",
"Respira profundo, estoy contigo ",
"Te amo incluso en tus momentos dif√≠ciles üíñ"

            ],
            cansada: [
                "Descansa mi amor, te lo mereces por todo lo que haces cada d√≠a ‚ù§Ô∏è",
"No tienes que poder con todo, tambi√©n puedes descansar ",
"Estoy orgulloso de ti, incluso cuando est√°s cansada üíï",
"Respira un momento, todo va a estar bien ",
"Eres fuerte, pero tambi√©n necesitas cuidarte üíñ",
"Descansa tranquila, yo estoy contigo ‚ù§Ô∏è",
"No te exijas tanto, ya est√°s haciendo demasiado ",
"Perm√≠tete parar un momento, te lo mereces üíï",
"Eres incre√≠ble, incluso en tus d√≠as m√°s cansados ",
"Si necesitas descansar, hazlo‚Ä¶ el mundo puede esperar üíñ",
"Ven aqu√≠, yo te cuido ‚ù§Ô∏è",
"No tienes que ser fuerte todo el tiempo ",
"Descansa mi vida, ma√±ana ser√° otro d√≠a üíï",
"Eres suficiente, incluso cuando no tienes energ√≠a ",
"Estoy contigo incluso en tus momentos de cansancio üíñ",
"No te preocupes por todo hoy, descansa un poco ‚ù§Ô∏è",
"Tu esfuerzo vale mucho, aunque est√©s agotada ",
"T√≥mate un respiro, te lo mereces üíï",
"Eres muy fuerte, pero tambi√©n muy humana ",
"No tienes que hacerlo todo perfecto üíñ",
"Si hoy no puedes m√°s, est√° bien ‚ù§Ô∏è",
"Descansa, tu cuerpo y tu mente lo necesitan ",
"Estoy orgulloso de todo lo que haces üíï",
"Date un momento para ti, lo necesitas ",
"Eres valiosa incluso cuando est√°s cansada üíñ",
"No te sientas mal por descansar ‚ù§Ô∏è",
"Yo estoy aqu√≠ para apoyarte siempre ",
"Todo va a estar bien, poco a poco üíï",
"Respira profundo, est√°s haciendo lo mejor que puedes ",
"Eres incre√≠ble, incluso en tus d√≠as dif√≠ciles üíñ",
"No tienes que cargar con todo sola ‚ù§Ô∏è",
"Descansa mi amor, te lo mereces todo ",
"Est√° bien si hoy no fue tu mejor d√≠a üíï",
"Ma√±ana ser√° mejor, conf√≠a ",
"Eres m√°s fuerte de lo que crees üíñ",
"No te olvides de cuidar de ti ‚ù§Ô∏è",
"Estoy aqu√≠ para ti, siempre ",
"Date un descanso, lo necesitas üíï",
"Eres valiosa incluso cuando est√°s agotada ",
"Te admiro mucho, incluso cuando est√°s cansada üíñ"

            ],
            amor: [
                "Ven aqu√≠ mi amor te lleno de todo el amor que tengo para ti ‚ù§Ô∏è",
"Te amo m√°s de lo que puedo explicar con palabras ",
"Eres lo mejor que me ha pasado en la vida üíï",
"Gracias por existir y por dejarme amarte ‚ù§Ô∏è",
"Mi amor por ti crece cada d√≠a m√°s üíñ",
"Eres mi lugar favorito en todo este mundo ",
"Amarte es lo m√°s bonito que me ha pasado ",
"Contigo entend√≠ lo que realmente es amar ‚ù§Ô∏è",
"Eres mi paz, mi alegr√≠a y mi todo üíï",
"No sabes lo feliz que me haces solo con existir üíñ",
"A tu lado todo es m√°s bonito ",
"Te amo con todo mi coraz√≥n, sin l√≠mites ",
"Eres mi persona favorita en el mundo ‚ù§Ô∏è",
"No cambiar√≠a estar contigo por nada üíï",
"Eres el amor que siempre so√±√© üíñ",
"Mi lugar seguro siempre ser√° contigo ",
"Te amo en tus d√≠as buenos y en los no tan buenos ",
"Eres todo lo que necesito para ser feliz ‚ù§Ô∏è",
"Amarte es lo m√°s f√°cil del mundo üíï",
"Eres mi felicidad diaria üíñ",
"No hay un solo d√≠a en el que no te piense ",
"Eres mi motivo para sonre√≠r ",
"Te amo m√°s de lo que ayer imagin√© ‚ù§Ô∏è",
"Eres lo m√°s bonito que tengo üíï",
"Mi coraz√≥n es completamente tuyo üíñ",
"Siempre voy a elegirte a ti ",
"Eres mi todo, sin exagerar ",
"Contigo quiero todo ‚ù§Ô∏è",
"Eres el amor de mi vida üíï",
"No hay nadie como t√∫ en este mundo üíñ",
"Eres mi sue√±o hecho realidad ",
"Te amo m√°s de lo que puedo demostrar ",
"Quiero amarte todos los d√≠as ‚ù§Ô∏è",
"Eres lo que siempre busqu√© üíï",
"Mi felicidad tiene tu nombre üíñ",
"Te amo con cada parte de m√≠ ",
"Eres lo mejor que me pas√≥ ",
"Mi coraz√≥n late por ti ‚ù§Ô∏è",
"Eres mi raz√≥n para amar üíï",
"Siempre ser√°s mi persona favorita üíñ"

            ],
            noche: [
                "Duerme bien mi amor, ma√±ana ser√° un d√≠a bonito para nosotros üåô‚ù§Ô∏è",
"Cierra los ojos tranquila, yo estoy contigo incluso en tus sue√±os ",
"Descansa mi vida, te mereces paz despu√©s de todo tu d√≠a üíï",
"Que tengas sue√±os lindos‚Ä¶ ojal√° sue√±es conmigo üòò",
"Duerme con la tranquilidad de que alguien te ama profundamente ‚ù§Ô∏è",
"Aunque no est√© contigo ahora, mi amor te abraza mientras duermes ",
"Buenas noches mi amor, que descanses y sue√±es bonito üíñ",
"Rel√°jate, respira y deja que el sue√±o te cuide üåô",
"Eres lo √∫ltimo que pienso antes de dormir y lo primero al despertar ",
"Duerme tranquila, todo estar√° bien, te lo prometo ‚ù§Ô∏è",
"Que la noche te regale descanso y sue√±os hermosos üíï",
"Si pudiera, te abrazar√≠a toda la noche ",
"Descansa mi amor, ma√±ana ser√° mejor üåô",
"Duerme sabiendo que eres lo m√°s bonito que tengo ‚ù§Ô∏è",
"Cierra los ojos y siente mi amor contigo üíñ",
"Que tengas la noche m√°s tranquila del mundo ",
"Duerme bien mi vida, te lo mereces todo üíï",
"Estoy pensando en ti antes de dormir ‚ù§Ô∏è",
"Que cada sue√±o te recuerde lo especial que eres ",
"Buenas noches, mi amor‚Ä¶ siempre estoy contigo üåô",
"Descansa, yo cuidar√© de ti incluso en silencio üíñ",
"Duerme tranquila, ma√±ana te dar√© m√°s amor ",
"Que tu noche sea tan hermosa como t√∫ ‚ù§Ô∏è",
"Te mando un abrazo en cada sue√±o üíï",
"Que esta noche te llene de paz ",
"Duerme mi amor, todo estar√° bien üåô",
"Si tienes fr√≠o, imagina que te estoy abrazando ‚ù§Ô∏è",
"Que tus sue√±os est√©n llenos de felicidad üíñ",
"Duerme tranquila, yo estoy aqu√≠ para ti ",
"Que la noche te regale descanso y calma üíï",
"Eres mi √∫ltimo pensamiento antes de dormir ",
"Duerme bien, mi amor‚Ä¶ te amo demasiado ‚ù§Ô∏è",
"Que tengas dulces sue√±os, mi vida üíñ",
"Cierra los ojos y siente cu√°nto te amo ",
"Duerme con paz, yo estoy contigo üíï",
"Descansa mi amor, ma√±ana seguimos escribiendo nuestra historia ",
"Que esta noche te envuelva en tranquilidad üåô",
"Buenas noches, mi coraz√≥n‚Ä¶ siempre contigo ‚ù§Ô∏è",
"Duerme sabiendo que eres todo para m√≠ üíñ",
"Te amo‚Ä¶ incluso mientras duermes "

            ],
            inseguridades: [
                "No tienes idea de lo valiosa y maravillosa que eres, pero yo s√≠ ‚ù§Ô∏è",
"No cambiar√≠a absolutamente nada de ti, porque me enamor√© de todo lo que eres üíï",
"Eres suficiente, incluso en los d√≠as donde sientes que no lo eres ",
"Si alg√∫n d√≠a dudas de ti, ven conmigo‚Ä¶ yo te voy a recordar lo incre√≠ble que eres ",
"No necesitas ser perfecta, porque ya eres perfecta para m√≠ ‚ù§Ô∏è",
"Tu forma de ser es lo que m√°s amo, nunca dejes de ser t√∫ üíñ",
"Aunque t√∫ no lo veas, yo veo una persona incre√≠ble en ti todos los d√≠as üå∏",
"No te compares con nadie, porque nadie es como t√∫‚Ä¶ y eso es lo que te hace especial üíï",
"Eres √∫nica, irreemplazable y maravillosa tal como eres ‚ù§Ô∏è",
"Si pudieras verte con mis ojos‚Ä¶ entender√≠as por qu√© te amo tanto ",
"No dejes que tus inseguridades apaguen la luz tan bonita que tienes üíñ",
"Eres mucho m√°s fuerte de lo que crees, y mucho m√°s valiosa de lo que imaginas ",
"Amo cada parte de ti, incluso las que t√∫ dudas üíï",
"Tu coraz√≥n es hermoso, y eso es lo que realmente importa ‚ù§Ô∏è",
"Eres suficiente para m√≠, hoy, ma√±ana y siempre ",
"No hay nadie en este mundo que pueda reemplazar lo que eres para m√≠ üíñ",
"Amo tu forma de ser, tu forma de sentir, tu forma de amar ",
"No tienes que cambiar nada para que yo te ame m√°s, porque ya te amo completamente üíï",
"Eres todo lo que alguien podr√≠a desear y m√°s ‚ù§Ô∏è",
"Si alg√∫n d√≠a te sientes poco, recuerda que para m√≠ eres todo ",
"Eres hermosa, por dentro y por fuera, aunque a veces no lo veas üíñ",
"No hay defectos en ti, solo cosas que te hacen √∫nica ",
"Amo incluso tus inseguridades, porque son parte de ti üíï",
"Eres una persona incre√≠ble, incluso en tus peores d√≠as ‚ù§Ô∏è",
"No dejes que tu mente te haga creer cosas que no son verdad ",
"Eres mucho m√°s de lo que crees ser üíñ",
"Tu valor no depende de lo que pienses de ti, porque para m√≠ ya vales todo ",
"No necesitas la aprobaci√≥n de nadie, porque ya eres suficiente üíï",
"Eres especial simplemente por ser t√∫ ‚ù§Ô∏è",
"Tu sonrisa tiene algo que ilumina todo ",
"Amo cada detalle de ti, incluso los que t√∫ no ves üíñ",
"Eres importante, valiosa y necesaria en este mundo ",
"Nunca olvides lo incre√≠ble que eres, incluso cuando te sientas perdida üíï",
"Eres una persona que merece todo lo bonito de la vida ‚ù§Ô∏è",
"Si supieras lo mucho que significas para m√≠, no dudar√≠as tanto ",
"No hay nadie como t√∫, y eso es lo que te hace tan especial üíñ",
"Eres m√°s que suficiente, incluso cuando no lo sientes ",
"Amo la persona que eres, sin condiciones üíï",
"Eres lo m√°s bonito que tengo en mi vida ‚ù§Ô∏è",
"Nunca dudes de tu valor, porque para m√≠ eres todo "

            ]
        };

        const reasonsList = [
            "Amo tu sonrisa, ilumina mis d√≠as enteros.",
            "Amo lo valiente y fuerte que eres, aunque a veces no te des cuenta.",
            "Me encanta la inmensa paz que me transmites.",
            "Amo cada peque√±o detalle de ti, desde tu voz hasta tu forma de pensar.",
            "Amo c√≥mo me miras, me haces sentir que soy el √∫nico en el mundo.",
            "Amo que me apoyes y creas en m√≠ siempre.",
            "Amo nuestras charlas interminables y tambi√©n nuestros silencios c√≥modos."
        ];

        /* ==================== FUNCIONALIDAD DE ESCRITURA Y AZAR ==================== */
        let typeInterval;
        function typeWriter(text) {
            const messageBox = document.getElementById('message-box');
            messageBox.classList.add('show');
            messageBox.innerHTML = '<span id="text-content"></span><span class="cursor">|</span>';
            const textContent = document.getElementById('text-content');
            clearInterval(typeInterval);
            let i = 0;
            typeInterval = setInterval(() => {
                textContent.innerHTML += text.charAt(i);
                i++;
                if (i >= text.length) clearInterval(typeInterval);
            }, 40); // Velocidad de la m√°quina de escribir
        }

        function showMessage(category) {
            // Fondo estrellado solo si es de noche
            if (category === 'noche') { document.body.classList.add('night-mode'); } 
            else { document.body.classList.remove('night-mode'); }
            
            // Selecci√≥n aleatoria usando Math.random() para que siempre cambie
            const phraseArray = messages[category];
            const randomIndex = Math.floor(Math.random() * phraseArray.length);
            const randomMessage = phraseArray[randomIndex];
            
            typeWriter(`"${randomMessage}"`);
        }

        /* ==================== ESTRELLAS Y LLUVIA ==================== */
        function generateStars() {
            const starsContainer = document.getElementById('stars-container');
            for (let i = 0; i < 40; i++) {
                let star = document.createElement('div');
                star.className = 'star';
                star.style.width = Math.random() * 3 + 'px';
                star.style.height = star.style.width;
                star.style.left = Math.random() * 100 + 'vw';
                star.style.top = Math.random() * 100 + 'vh';
                star.style.animationDuration = Math.random() * 2 + 1 + 's';
                star.style.animationDelay = Math.random() * 2 + 's';
                starsContainer.appendChild(star);
            }
        }

        function startRain() {
            const container = document.getElementById('rain-container');
            container.innerHTML = ''; 
            document.body.classList.remove('night-mode');
            
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const envelope = document.createElement('div');
                    envelope.className = 'falling-envelope';
                    envelope.innerText = 'üíå';
                    envelope.style.left = Math.random() * 90 + 'vw';
                    envelope.style.animationDuration = (Math.random() * 3 + 4) + 's';
                    
                    envelope.onclick = function() {
                        container.innerHTML = ''; // Limpiar la lluvia al atrapar uno
                        const randomReason = reasonsList[Math.floor(Math.random() * reasonsList.length)];
                        typeWriter(`T√∫: "¬øPor qu√© me amas?"\nYo: "${randomReason}" ‚ù§Ô∏è`);
                    };
                    
                    container.appendChild(envelope);
                    setTimeout(() => envelope.remove(), 7000); // Se borra al caer
                }, i * 300); // Caen uno tras otro
            }
        }

        /* ==================== FUNCIONALIDAD CUPONES ==================== */
        function redeemCoupon(element) {
            if(!element.classList.contains('redeemed')) {
                // Vibraci√≥n si el celular lo soporta
                if(navigator.vibrate) navigator.vibrate(50); 
                
                element.classList.add('redeemed');
                alert("¬°Cup√≥n canjeado con √©xito! T√≥male captura y m√°ndamela para hacerlo v√°lido hoy mismo ‚ù§Ô∏è");
            }
        }
    </script>
</body>
</html>